{"version":3,"sources":["components/FormInput.js","components/FormDatePicker.js","components/FormSection.js","components/FormButton.js","components/LoggingForm.js","routes/LoggingEditRoute.js"],"names":["FormInput","fullWidth","value","props","underlineStyle","MATERIAL","textField","underlineFocusStyle","FormDatePicker","id","autoOk","FormSection","children","direction","additionalStyle","css","display","flexDirection","margin","padding","FormButton","background","disabled","onClick","extraStyle","backgroundColor","marginBottom","width","color","fontSize","border","transition","marginRight","fill","alignItems","justifyContent","CATEGORIES","LoggingForm","useState","isSaving","setIsSaving","isFetching","setIsFetching","hasConfirmedDeletion","setHasConfirmedDeletion","Date","date","setDate","description","setDescription","category","setCategory","amount","setAmount","useEffect","getRecord","then","log","LoadingSpinner","onSubmit","e","a","async","preventDefault","saveFn","history","push","ROUTES","logging","list","style","height","onChange","Select","labelId","target","map","MenuItem","split","word","toUpperCase","slice","join","currentTarget","hintText","deleteFn","to","LoggingEditRoute"],"mappings":"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","file":"static/js/10.88a0e74d.chunk.js","sourcesContent":["// @flow\nimport React from 'react'\nimport TextField from 'material-ui/TextField'\nimport { MATERIAL } from '../theme'\n\ntype Props = {\n  fullWidth?: boolean,\n  value: string,\n  onChange?: (e: SyntheticEvent<HTMLInputElement>) => any,\n  disabled: boolean,\n  hintText?: string\n}\n\nexport default function FormInput({ \n  fullWidth = true,\n  value,\n  ...props\n}: Props) {\n  return (\n    <TextField\n      {...props}\n      value={value}\n      fullWidth={fullWidth}\n      underlineStyle={MATERIAL.textField.underlineStyle}\n      underlineFocusStyle={MATERIAL.textField.underlineFocusStyle}\n    />\n  )\n}\n","// @flow\nimport React from 'react'\nimport DatePicker from 'material-ui/DatePicker'\n\ntype Props = {\n  value: string,\n  onChange: (e: SyntheticEvent<HTMLInputElement>, date: Date) => void,\n  disabled: boolean\n}\n\nexport default function FormDatePicker(props: Props) {\n  return (\n    <DatePicker\n      id=\"date-picker\"\n      autoOk={true}\n      {...props}\n    />\n  )\n}\n","// @flow\nimport * as React from 'react'\nimport { css } from 'glamor'\n\ntype Props = {\n  children: React.Node,\n  direction?: string,\n  additionalStyle?: Object\n}\n\nexport default function FormSection({ children, direction = 'column', additionalStyle={} }: Props) {\n  return (\n    <section {...css({\n      display: 'flex',\n      flexDirection: direction,\n      margin: '0.8rem',\n      // '&:first-child': { margin: '0' },\n      padding: '0 1rem',\n      ...additionalStyle\n    })}>\n      {children}\n    </section>\n  )\n}\n","// @flow\nimport * as React from 'react'\nimport { css } from 'glamor'\n\ntype Props = {\n  children?: React.Node,\n  background: string,\n  disabled: boolean,\n  onClick?: (e: SyntheticEvent<HTMLInputElement>) => void\n}\n\nexport default function FormButton({ children, background, disabled, onClick }: Props) {\n  // todo: add these into the inline styles\n  const extraStyle = {\n    backgroundColor: background,\n    marginBottom: '0.5rem',\n    '&:disabled': { backgroundColor: '#dcedc8' }\n  }\n\n  return (\n    <button \n      disabled={disabled}\n      onClick={onClick}\n      {...css({\n        width: '100%',\n        padding: '0.4rem',\n        color: '#fff',\n        fontSize: '1rem',\n        border: 'none',\n        transition: 'background 0.5s',\n        '& svg': { marginRight: '0.3rem', fill: '#fff !important' }\n      }, extraStyle)}\n    >\n      <div {...css({\n        // safari 10 ignores align-items & justify content when the container box is a button\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n      })}>\n        {children}\n      </div>\n    </button>\n  )  \n}\n","// @flow\nimport React, { useState, useEffect } from 'react'\nimport { css } from 'glamor'\nimport { Link } from 'react-router-dom'\nimport DateRangeIcon from 'material-ui/svg-icons/action/date-range'\nimport SaveIcon from 'material-ui/svg-icons/content/save'\nimport CancelIcon from 'material-ui/svg-icons/av/not-interested'\nimport DeleteIcon from 'material-ui/svg-icons/action/delete-forever'\n\n\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport FormInput from './FormInput'\nimport FormDatePicker from './FormDatePicker'\nimport FormSection from './FormSection'\nimport FormButton from './FormButton'\nimport LoadingSpinner from './LoadingSpinner'\nimport {MATERIAL} from '../theme'\nimport { ROUTES } from '../constants'\nimport { Log } from '../types'\n\ntype Props = {\n  history: any,\n  saveFn: (record: Log) => Promise<any>,\n  deleteFn: (id: string) => Promise<any>,\n  getRecord: (id: string) => Promise<any>,\n  id: string\n}\n\ntype Category = \n  'groceries' |\n  'renting' | \n  'entertainment' |\n  'self improvement' |\n  'investment' |\n  'utilities' |\n  'dining' |\n  'trasportation' | \n  'trip';\n\nconst CATEGORIES = [\n  'groceries',\n  'renting', \n  'entertainment',\n  'self improvement',\n  'investment',\n  'utilities',\n  'dining',\n  'trasportation', \n  'trip',\n];\n\nexport default function LoggingForm<Props>(props) {\n  const [isSaving, setIsSaving] = useState(false);\n  const [isFetching, setIsFetching] = useState(false);\n  const [hasConfirmedDeletion, setHasConfirmedDeletion] = useState(false);\n\n  // log\n  const [date, setDate] = useState(new Date());\n  const [description, setDescription] = useState('');\n  const [category, setCategory] = useState<Category>('groceries');\n  const [amount, setAmount] = useState(0);\n\n  useEffect(() => {\n    const { id, getRecord } = props;\n    if (id) {\n      setIsFetching(true);\n      getRecord(id).then((log) => {\n        const {date, description, category, amount} = log;\n        setIsFetching(false);\n        setDate(date);\n        setDescription(description);\n        setCategory(category);\n        setAmount(amount);\n      });\n    }\n  }, []);\n\n  const deleteRecord = (e: SyntheticEvent<HTMLInputElement>) => {\n    e.preventDefault();\n    const { deleteFn, history, id } = props;\n    \n    if (!hasConfirmedDeletion) {\n      setHasConfirmedDeletion(true);\n    } else {\n      setIsSaving(true);\n      deleteFn(id).then(() => {\n        history.push(ROUTES.logging.list);\n      });\n    }\n  }\n\n  const onDateChange = (e: SyntheticEvent<HTMLInputElement>, date: Date) => {\n    setDate(date);\n  }\n\n  const onAmountChange = (e: SyntheticEvent<HTMLInputElement>) => {\n    setAmount(e.currentTarget.value);\n  }\n\n  const onDescriptionChange = (e: SyntheticEvent<HTMLInputElement>) => {\n    setDescription(e.currentTarget.value);\n  }\n  \n  const onCategoryChange = (e) => {\n    setCategory(e.target.value);\n  }\n\n  async function onSubmit(e: SyntheticEvent<*>): void {\n    e.preventDefault()\n    const { saveFn, history } = props\n\n    setIsSaving(true);\n    await saveFn({\n      amount,\n      category,\n      date,\n      description,\n    });\n    history.push(ROUTES.logging.list);\n  }\n\n  const { id } = props\n\n  if (isSaving || isFetching) {\n    return <LoadingSpinner />\n  }\n\n  return (\n    <form onSubmit={onSubmit}>\n      <FormSection direction=\"row\" additionalStyle={{ alignItems: 'center' }}>\n        <DateRangeIcon style={{ width: '1.6rem', height: '1.6rem', marginRight: '0.4rem' }}/>\n        <FormDatePicker\n          value={date}\n          onChange={onDateChange}\n        />\n      </FormSection>\n      <FormSection>\n        <div {...css({ display: 'flex', alignItems: 'center', marginBottom: 10 })}>\n          Category\n        </div>\n        <Select\n          labelId=\"demo-simple-select-label\"\n          value={category}\n          onChange={onCategoryChange}\n          underlineStyle={MATERIAL.textField.underlineStyle}\n          underlineFocusStyle={MATERIAL.textField.underlineFocusStyle}\n        >\n          {CATEGORIES.map(category => (\n            <MenuItem value={category}>\n              {category.split(' ').map((word) => {\n                return word[0].toUpperCase() + word.slice(1);\n              }).join(' ')}\n            </MenuItem>\n          ))}\n        </Select>\n      </FormSection>\n      <FormSection>\n        <div>Description</div>\n        <FormInput\n          onChange={onDescriptionChange}\n          value={description}\n          hintText=\"(optional)\"\n        />\n      </FormSection>\n      <FormSection>\n        <div>Amount</div>\n        <FormInput\n          onChange={onAmountChange}\n          value={amount}\n        />\n      </FormSection>\n      <FormSection>\n        <FormButton\n          background=\"#66bb6a\"\n          disabled={category == null || amount == null}\n        >\n          <SaveIcon />\n          <span>Save</span>\n        </FormButton>\n        {\n          id &&\n          <FormButton \n            onClick={deleteRecord}\n            background=\"#e57373\"\n          >\n            <DeleteIcon />\n            <span>{hasConfirmedDeletion ? 'Are you sure?' : 'Delete'}</span>\n          </FormButton>\n        }\n        <Link to={ROUTES.logging.list}>\n          <FormButton \n            background=\"#bdbdbd\"\n          >\n            <CancelIcon />\n            <span>Cancel</span>\n          </FormButton>\n        </Link>\n      </FormSection>\n    </form>\n  );\n}\n","import React from 'react'\nimport LoggingForm from '../components/LoggingForm'\n\nexport default function LoggingEditRoute(props) {\n  return (\n    <LoggingForm {...props} />\n  )\n}\n"],"sourceRoot":""}